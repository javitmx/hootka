<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Game Live - Iniciar Sesi贸n</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/style.css') }}"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      // Configuraci贸n de Tailwind para los colores y animaciones ne贸n
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#f0f",
              "background-light": "#f0f0f0",
              "background-dark": "#0d011a",
              "neon-cyan": "#00ffff",
              "neon-magenta": "#ff00ff",
            },
            boxShadow: {
              "neon-primary": "0 0 5px #f0f, 0 0 10px #f0f, 0 0 15px #f0f",
              "neon-cyan": "0 0 5px #00ffff, 0 0 10px #00ffff",
              "neon-magenta": "0 0 5px #ff00ff, 0 0 10px #ff00ff",
            },
            keyframes: {
              "slide-in-right": {
                "0%": { transform: "translateX(100%)", opacity: "0" },
                "100%": { transform: "translateX(0)", opacity: "1" },
              },
              "fade-out": {
                "0%": { opacity: "1" },
                "100%": { opacity: "0" },
              },
            },
            animation: {
              "slide-in": "slide-in-right 0.5s ease-out forwards",
              "fade-out": "fade-out 0.5s ease-in forwards",
            },
          },
        },
      };
    </script>
  </head>

  <body class="login-page">
    <div
      class="fixed top-5 right-5 z-50 w-full max-w-md space-y-4 pointer-events-none"
    >
      {% with messages = get_flashed_messages(with_categories=true) %} {% if
      messages %} {% for category, message in messages %}
      <div
        class="flash-message pointer-events-auto relative overflow-hidden rounded-xl border-2 p-4 shadow-lg backdrop-blur-md animate-slide-in {% if category == 'danger' %} border-neon-magenta bg-background-dark/80 text-neon-magenta shadow-[0_0_15px_rgba(255,0,255,0.5)] {% elif category == 'success' %} border-neon-cyan bg-background-dark/80 text-neon-cyan shadow-[0_0_15px_rgba(0,255,255,0.5)] {% else %} border-gray-500 bg-background-dark/80 text-white {% endif %}"
      >
        <div
          class="absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-30"
        ></div>

        <div class="relative flex items-start">
          <span
            class="material-symbols-outlined mr-3 text-3xl pt-0.5 filter drop-shadow-[0_0_5px_currentColor]"
          >
            {% if category == 'danger' %}error{% elif category == 'success'
            %}check_circle{% else %}info{% endif %}
          </span>
          <div>
            <h4
              class="font-bold text-lg uppercase tracking-wider filter drop-shadow-[0_0_5px_currentColor]"
            >
              {% if category == 'danger' %}隆Error!{% elif category == 'success'
              %}隆xito!{% else %}Informaci贸n{% endif %}
            </h4>
            <p
              class="mt-1 text-sm font-medium text-gray-200 filter drop-shadow-sm"
            >
              {{ message }}
            </p>
          </div>
          <button
            onclick="cerrarNotificacion(this.parentElement.parentElement)"
            class="ml-auto -mx-1.5 -my-1.5 rounded-lg p-1.5 hover:bg-white/10 transition-colors focus:ring-2 focus:ring-current"
          >
            <span class="sr-only">Cerrar</span>
            <span class="material-symbols-outlined text-xl">close</span>
          </button>
        </div>
      </div>
      {% endfor %} {% endif %} {% endwith %}
    </div>

    <div class="login-container">
      <div class="logo-title">
        <span class="neon-bolt"></span>
        GAME LIVE
        <span class="neon-bolt"></span>
      </div>
      <p class="subtitle"> 隆Inicia sesi贸n para unirte a la diversi贸n!</p>

      <form action="{{ url_for('login') }}" method="POST">
        <div class="input-group">
          <label for="username" class="input-label"
            >NOMBRE DE USUARIO O EMAIL</label
          >
          <input
            type="text"
            id="username"
            name="username"
            class="input-field"
            placeholder="Ingresa tu usuario"
            required
          />
        </div>

        <div class="input-group" , style="margin-top: 20px">
          <label for="password" class="input-label cyan">CONTRASEA</label>
          <input
            type="password"
            id="password"
            name="password"
            class="input-field cyan"
            placeholder="Ingresa tu contrase帽a"
            required
          />
        </div>
        <div style="margin-top: 20px">
          <button type="submit" class="btn-login"> INICIAR SESIN</button>
        </div>
      </form>

      <p class="login-link" style="margin-top: 20px; color: #fff">
        驴No tienes cuenta?
        <a
          href="{{ url_for('register') }}"
          style="
            color: var(--neon-cyan);
            text-decoration: none;
            font-weight: bold;
          "
          >Reg铆strate aqu铆</a
        >
      </p>
    </div>

    <script>
      function cerrarNotificacion(elemento) {
        elemento.classList.add("animate-fade-out");
        setTimeout(() => {
          if (elemento && elemento.parentNode) {
            elemento.parentNode.removeChild(elemento);
          }
        }, 500);
      }

      document.addEventListener("DOMContentLoaded", (event) => {
        const messages = document.querySelectorAll(".flash-message");
        messages.forEach((msg) => {
          setTimeout(() => {
            cerrarNotificacion(msg);
          }, 5000); // Desaparecen a los 5 segundos
        });
      });
    </script>
  </body>
</html>
